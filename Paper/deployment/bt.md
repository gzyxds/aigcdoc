# å®å¡”é¢æ¿éƒ¨ç½²æŒ‡å— - æ¨èä½¿ç”¨â‘ /â‘¢

## ğŸ“‹ ç¯å¢ƒè¦æ±‚

> **æ¨èæœåŠ¡å™¨æœ€ä½é…ç½®**ï¼š
> - CPUï¼šåŒæ ¸
> - å†…å­˜ï¼š4GB
> - ç¡¬ç›˜ï¼š20GB
> - å¸¦å®½ï¼š5å…†

**ğŸ’¡ å¼ºçƒˆæ¨èåœ¨æ­£å¼ç¯å¢ƒä¸­ä½¿ç”¨å®å¡”é¢æ¿éƒ¨ç½²é¡¹ç›®ï¼Œè®©éƒ¨ç½²æ›´åŠ ä¾¿æ·ï¼Œå‡å°‘é—®é¢˜å‘ç”Ÿã€‚**

## ğŸ› ï¸ æœåŠ¡å™¨ç¯å¢ƒè®¾ç½®

### **æ­¥éª¤1**: å®‰è£…åŸºç¡€è¿è¡Œç¯å¢ƒ

ç‚¹å‡»ã€è½¯ä»¶å•†åº—ã€‘â†’ã€è¿è¡Œç¯å¢ƒã€‘ï¼Œå®‰è£…ä»¥ä¸‹è½¯ä»¶ï¼š
- Nginx
- MySQL (5.7ç‰ˆæœ¬)
- PHP-8.0
- Redis

âš ï¸ **è­¦å‘Š**
> å®‰è£…è½¯ä»¶æ—¶ï¼Œè¯·ä½¿ç”¨æé€Ÿå®‰è£…ï¼Œå¿…é¡»ä½¿ç”¨PHP8.0å’ŒMySQL5.7ï¼Œå¦åˆ™å°†æ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚

![åŸºç¡€ç¯å¢ƒå®‰è£…-1](https://doc.mddai.cn/docs/images/cp/deployment/bt/bt-env-1.png)  
![åŸºç¡€ç¯å¢ƒå®‰è£…-2](https://doc.mddai.cn/docs/images/cp/deployment/bt/bt-env-2.png)  

### **æ­¥éª¤2**: å®‰è£…PHPæ‰©å±•

ç‚¹å‡»ã€è½¯ä»¶å•†åº—ã€‘â†’ã€å·²å®‰è£…ã€‘ï¼Œæ‰¾åˆ°PHP-8.0ï¼Œç„¶åç‚¹å‡»ã€è®¾ç½®ã€‘â†’ã€å®‰è£…æ‰©å±•ã€‘ï¼Œå®‰è£…ä»¥ä¸‹æ‰©å±•ï¼š
- fileinfoæ‰©å±•
- redisæ‰©å±•

![PHPæ‰©å±•å®‰è£…](https://doc.mddai.cn/docs/images/cp/deployment/bt/bt-env-3.png)  

## ğŸŒ ç«™ç‚¹éƒ¨ç½²

### **æ­¥éª¤1**: ä¸Šä¼ å¹¶è§£å‹é¡¹ç›®æ–‡ä»¶

æ‰“å¼€å®å¡”é¢æ¿ï¼Œè¿›å…¥`/www/wwwroot`ç›®å½•ï¼Œä¸Šä¼ ä¸‹è½½å¥½çš„å‹ç¼©åŒ…å¹¶è§£å‹ï¼Œè§£å‹å‡ºæ¥çš„æ–‡ä»¶å¤¹å³ä¸ºé¡¹ç›®ç›®å½•ã€‚

âš ï¸ **è­¦å‘Š**
> è¯·ç¡®ä¿é¡¹ç›®ç›®å½•åŠå­ç›®å½•ç”¨æˆ·è®¾ç½®ä¸ºwwwï¼å¦‚æœåç»­æ­¥éª¤å‡ºç°é—®é¢˜ï¼Œè¯·é‡æ–°è®¾ç½®é¡¹ç›®ç›®å½•åŠå­ç›®å½•ç”¨æˆ·ä¸ºwwwã€‚

![ä¸Šä¼ é¡¹ç›®æ–‡ä»¶](https://doc.mddai.cn/docs/images/cp/deployment/bt/bt-1-1.png)  
![è§£å‹é¡¹ç›®æ–‡ä»¶](https://doc.mddai.cn/docs/images/cp/deployment/bt/bt-1-2.png)  

### **æ­¥éª¤2**: æ·»åŠ ç½‘ç«™

ç‚¹å‡»ã€ç½‘ç«™ã€‘â†’ã€PHPé¡¹ç›®ã€‘â†’ã€æ·»åŠ ç«™ç‚¹ã€‘ï¼ŒæŒ‰ä»¥ä¸‹ä¿¡æ¯å¡«å†™ï¼š
- ã€åŸŸåã€‘ï¼šå¡«å†™å·²è§£æåˆ°æœ¬æœåŠ¡å™¨çš„åŸŸå
- ã€æ ¹ç›®å½•ã€‘ï¼šé€‰æ‹©ä¸Šä¸€æ­¥è§£å‹å¥½çš„é¡¹ç›®ç›®å½•ä¸­çš„serverç›®å½•
- ã€æ•°æ®åº“ã€‘ï¼šé€‰æ‹©ã€MySQLã€‘
- ã€æ•°æ®åº“è´¦å·ã€‘ï¼šè®¾ç½®è´¦å·å¯†ç 
- ã€PHPç‰ˆæœ¬ã€‘ï¼šé€‰æ‹©ã€PHP-80ã€‘
- ç‚¹å‡»ã€æäº¤ã€‘

âš ï¸ **è­¦å‘Š**
> ç«™ç‚¹ç›®å½•å¿…é¡»é€‰æ‹©serverï¼Œè¯·å‹¿é€‰æ‹©publicï¼é€‰æ‹©publicä¼šå¯¼è‡´å®å¡”ç”Ÿæˆé…ç½®é”™è¯¯ï¼Œåç»­ä¿®æ”¹ä¹Ÿæ— æ³•è§£å†³ï¼Œåªèƒ½åˆ é™¤ç«™ç‚¹é‡æ–°æ·»åŠ ã€‚

![æ·»åŠ ç½‘ç«™](https://doc.mddai.cn/docs/images/cp/deployment/bt/bt-2.png)  

### **æ­¥éª¤3**: è®°å½•æ•°æ®åº“ä¿¡æ¯

è¯·å¦¥å–„ä¿å­˜æ•°æ®åº“åã€ç”¨æˆ·åå’Œå¯†ç ï¼Œæ­¥éª¤13å°†ä¼šç”¨åˆ°è¿™äº›ä¿¡æ¯ã€‚

![ä¿å­˜æ•°æ®åº“ä¿¡æ¯](https://doc.mddai.cn/docs/images/cp/deployment/bt/bt-3.png)  

### **æ­¥éª¤4**: ç”³è¯·SSLè¯ä¹¦

æ‰¾åˆ°ç½‘ç«™ï¼Œç‚¹å‡»ã€è®¾ç½®ã€‘â†’ã€SSLã€‘â†’ã€Let's Encryptã€‘â†’ã€æ–‡ä»¶éªŒè¯ã€‘â†’ã€é€‰æ‹©åŸŸåã€‘â†’ã€ç”³è¯·ã€‘ï¼Œå®ŒæˆSSLè¯ä¹¦ç”³è¯·ã€‚

![SSLè¯ä¹¦ç”³è¯·-1](https://doc.mddai.cn/docs/images/cp/deployment/bt/bt-4-1.png)  
![SSLè¯ä¹¦ç”³è¯·-2](https://doc.mddai.cn/docs/images/cp/deployment/bt/bt-4-2.png)  

### **æ­¥éª¤5**: è®¾ç½®ç½‘ç«™ç›®å½•

ç‚¹å‡»ã€ç½‘ç«™ç›®å½•ã€‘â†’ã€ç½‘ç«™ç›®å½•ã€‘ï¼Œé€‰æ‹©è§£å‹çš„é¡¹ç›®ç›®å½•ä¸‹çš„"server"ç›®å½•ï¼Œç‚¹å‡»ä¿å­˜ã€‚
ç„¶åè®¾ç½®ã€è¿è¡Œç›®å½•ã€‘ä¸º"/public"ï¼Œç‚¹å‡»ã€ä¿å­˜ã€‘ã€‚

![è®¾ç½®ç½‘ç«™ç›®å½•](https://doc.mddai.cn/docs/images/cp/deployment/bt/bt-5.png)  

### **æ­¥éª¤6**: é…ç½®ä¼ªé™æ€

ç‚¹å‡»ã€ä¼ªé™æ€ã€‘ï¼Œé€‰æ‹©ã€thinkphpã€‘ï¼Œç‚¹å‡»ã€ä¿å­˜ã€‘ã€‚

![é…ç½®ä¼ªé™æ€](https://doc.mddai.cn/docs/images/cp/deployment/bt/bt-6.png)  

## ğŸ“¦ ç¨‹åºå®‰è£…

### **æ­¥éª¤7**: å¯åŠ¨å®‰è£…å‘å¯¼

è®¿é—®è®¾ç½®çš„ç½‘ç«™ï¼Œè¿›å…¥ç¨‹åºå®‰è£…ç•Œé¢ï¼Œç‚¹å‡»ã€æˆ‘å·²é˜…è¯»åŒæ„ã€‘ã€‚

![å®‰è£…å‘å¯¼-1](https://doc.mddai.cn/docs/images/cp/deployment/bt/bt-7-1.png)  
![å®‰è£…å‘å¯¼-2](https://doc.mddai.cn/docs/images/cp/deployment/bt/bt-7-2.png)  

### **æ­¥éª¤8**: ç¯å¢ƒæ£€æµ‹

ç³»ç»Ÿå°†å¯¹ç¯å¢ƒè¿›è¡Œæ£€æµ‹ï¼Œé€šå¸¸é™¤äº†ã€swoole_loaderæ‰©å±•ã€‘å¤–ï¼Œå…¶ä»–é¡¹éƒ½ä¼šé€šè¿‡ã€‚
è¯·æ³¨æ„è¯´æ˜å†…å®¹ä¸­æ˜¯å¦æç¤ºã€éçº¿ç¨‹å®‰å…¨æ‰©å±•ã€‘æˆ–ã€çº¿ç¨‹å®‰å…¨æ‰©å±•ã€‘ï¼Œè®°ä½è¿™ä¸ªä¿¡æ¯ï¼Œæ­¥éª¤9ã€10ã€11å°†ç”¨åˆ°ã€‚

![ç¯å¢ƒæ£€æµ‹](https://doc.mddai.cn/docs/images/cp/deployment/bt/bt-8.png)  

### **æ­¥éª¤9**: å¤åˆ¶æ‰©å±•æ–‡ä»¶

æ‰“å¼€å®å¡”æ–‡ä»¶ç®¡ç†ï¼Œè¿›å…¥é¡¹ç›®æ‰€åœ¨çš„`/server/license`ç›®å½•ï¼š
- å¦‚æœæ­¥éª¤8æç¤ºã€éçº¿ç¨‹å®‰å…¨æ‰©å±•ã€‘ï¼Œå¤åˆ¶`swoole_loader80.so`æ–‡ä»¶
- å¦‚æœæç¤ºã€çº¿ç¨‹å®‰å…¨æ‰©å±•ã€‘ï¼Œå¤åˆ¶`swoole_loader80_zts.so`æ–‡ä»¶

![å¤åˆ¶æ‰©å±•æ–‡ä»¶](https://doc.mddai.cn/docs/images/cp/deployment/bt/bt-9.png)  

### **æ­¥éª¤10**: ç²˜è´´æ‰©å±•æ–‡ä»¶

æ‰“å¼€å®å¡”æ–‡ä»¶ç®¡ç†ï¼Œè¿›å…¥`/www/server/php/80/lib/php/extensions/no-debug-non-zts-20200930`ç›®å½•ï¼Œ
ç²˜è´´æ–‡ä»¶ï¼Œå¹¶ç»Ÿä¸€æ”¹åä¸º`swoole_loader80.so`ã€‚

![ç²˜è´´æ‰©å±•æ–‡ä»¶](https://doc.mddai.cn/docs/images/cp/deployment/bt/bt-10.png)  

### **æ­¥éª¤11**: é…ç½®PHPåŠ è½½æ‰©å±•

æ‰“å¼€ã€è½¯ä»¶å•†åº—ã€‘â†’ã€è¿è¡Œç¯å¢ƒã€‘â†’ã€è®¾ç½®ã€‘â†’ã€é…ç½®æ–‡ä»¶ã€‘ï¼Œåœ¨æœ«å°¾æ·»åŠ ï¼š
