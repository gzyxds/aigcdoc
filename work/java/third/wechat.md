# ğŸš€ å¯¹æ¥å¾®ä¿¡

## ğŸ“ æ¥å…¥è¯´æ˜

::: danger âš ï¸ æç¤º
æˆ‘ä»¬ä½¿ç”¨ **chatgpt-on-wechat** è¿™ä¸ªé¡¹ç›®æ¥æ¥å…¥ï¼›
æ— è®ºæ˜¯ä¸ªäººå¾®ä¿¡è¿˜æ˜¯ä¼ä¸šå¾®ä¿¡éƒ½ä½¿ç”¨è¿™ä¸ªé¡¹ç›®ã€‚
å…·ä½“å¦‚ä½•å®‰è£…è¿™è¾¹ä¸è¿‡å¤šé˜è¿°ï¼Œè¯·è‡ªè¡Œé˜…è¯»å®˜æ–¹æ–‡æ¡£å®‰è£…ã€‚
:::

**ğŸ”— å®˜æ–¹é¡¹ç›®åœ°å€:**  **[https://github.com/zhayujie/chatgpt-on-wechat](https://github.com/zhayujie/chatgpt-on-wechat)**

## ğŸ–¥ï¸ éœ€è¦è®¾å¤‡

* **1. ä¸€å°æœåŠ¡å™¨ï¼Œå›½å†…å›½å¤–å‡å¯** ğŸ–¥ï¸
* **2. ä¸€ä¸ªä¼ä¸šå¾®ä¿¡è´¦å·ï¼Œä¸ªäººå’Œå·²è®¤è¯çš„ä¼ä¸šå‡æ”¯æŒ** ğŸ“±
* **3. ç‰¹åˆ«è¯´æ˜: ä¼ä¸šå¾®ä¿¡çš„ç›‘å¬éœ€è¦ windows çš„ç³»ç»Ÿ** ğŸ’»
* **PS: å¿…é¡»æ˜¯å·²è¿›è¡Œå®åè®¤è¯çš„å¾®ä¿¡å· (æœªå®åçš„æ— æ³•ç™»å½•)** ğŸ”’

## ä¸€ã€ğŸ“Š æ¥å…¥ä¼ä¸šå¾®ä¿¡

ä¼ä¸šå¾®ä¿¡çš„æ¥å…¥åœ¨å¼€æºé¡¹ç›® `chatgpt-on-wechat` çš„åŸºç¡€ä¸Šè¿›è¡Œã€‚

### ğŸ”‘ æ­¥éª¤ä¸€ï¼šè·å–API Key

`æ ¹æ®è‡ªå·±çš„ç³»ç»Ÿç‰ˆæœ¬è·å–åˆ°apiKey`

* ã€1.7.* ç‰ˆæœ¬ è·å–å¯†é’¥çš„æ–¹æ³•, ç‚¹å‡»è·³è½¬æŸ¥çœ‹ã€‘ ğŸ”—
* ã€>=2.0.0ç‰ˆæœ¬ è·å–å¯†é’¥çš„æ–¹æ³•, ç‚¹å‡»è·³è½¬æŸ¥çœ‹ã€‘ ğŸ”—

### ğŸ“¥ æ­¥éª¤äºŒï¼šä¸‹è½½é¡¹ç›®

* 1ã€ä¸‹è½½ `chatgpt-on-wechat` ç¬¬ä¸‰æ–¹å¼€æºé¡¹ç›®
* 2ã€ä¸‹è½½åœ°å€: `https://github.com/zhayujie/chatgpt-on-wechat`
* 3ã€ä¸‹è½½å®Œæˆåå¾—åˆ°ä¸€ä¸ªå‹ç¼©åŒ…: `chatgpt-on-wechat-master.zip` (æŠŠå®ƒè§£å‹)

![é¡¹ç›®æˆªå›¾](https://doc.chatmoney.cn/docs/images/general/third-deployment/on-wechat/chatgpt-on-wechat.png)

### âš™ï¸ æ­¥éª¤ä¸‰ï¼šé…ç½®ä¿®æ”¹

* 1ã€æ‰“å¼€ `chatgpt-on-wechat` è§£å‹å‡ºæ¥çš„é¡¹ç›®ï¼Œè¿›è¡Œé…ç½®ä¿®æ”¹
* 2ã€ä¸»è¦ä¿®æ”¹ä¸‰ä¸ªé…ç½®å‚æ•° (PS: é…ç½®æ–‡ä»¶é‡Œé¢æ²¡æœ‰çš„é…ç½®è‡ªè¡ŒåŠ ä¸Šå³å¯)
* 3ã€æ“ä½œå¦‚ä¸‹å›¾æ‰€ç¤º:

![é…ç½®æˆªå›¾1](https://doc.chatmoney.cn/docs/images/general/third-deployment/on-wechat/config_001.png)

![é…ç½®æˆªå›¾2](https://doc.chatmoney.cn/docs/images/general/third-deployment/on-wechat/config_002.png)

âš ï¸ æ³¨æ„äº‹é¡¹ï¼š

ä¼ä¸šå¾®ä¿¡éœ€è¦ä¸‹è½½ä¸€ä¸ªæŒ‡å®šçš„ä¼ä¸šå¾®ä¿¡ç‰ˆæœ¬ç”¨æ¥ç›‘å¬
å…·ä½“ä½¿ç”¨è¯·å‚è€ƒä»¥ä¸‹æ–‡æ¡£:
**ğŸ“„ æ–‡æ¡£åœ°å€:**  **[https://github.com/zhayujie/chatgpt-on-wechat/pull/1385](https://github.com/zhayujie/chatgpt-on-wechat/pull/1385)**

**æ–‡æ¡£æåˆ°è¦å®‰è£…ä¸€ä¸ªä¾èµ–:** 
```bash
pip install ntwork
```

**è¿™ä¸ªä¾èµ–ä½ å¯èƒ½æ— æ³•å®‰è£…ä¸Šï¼Œä½ å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…:** 
(å›½å†…æºå®‰è£…):
```bash
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple ntwork
```

**PS: ç»æµ‹è¯•éœ€è¦ä½¿ç”¨** **â€‹`3.10.*`â€‹**  **pythonçš„ç‰ˆæœ¬æ‰èƒ½å®‰è£…è¯¥ä¾èµ–ï¼Œå¦åˆ™å¯èƒ½ä¼šæç¤ºæ‰¾ä¸åˆ°ä¾èµ–åŒ…çš„é”™è¯¯ã€‚**

### ğŸ“¦ æ­¥éª¤å››ï¼šå®‰è£…ä¾èµ–

```bash
# 1ã€ç»ˆç«¯æ‰“å¼€é¡¹ç›®
cd chatgpt-on-wechat-master

# 2ã€å®‰è£…æ ¸å¿ƒä¾èµ–ï¼š
pip3 install -r requirements.txt

# 3ã€å®‰è£…æ‹“å±•ä¾èµ–ï¼š
pip3 install -r requirements-optional.txt

# 4ã€å®‰è£…å¥½ä¾èµ–åã€å°±å¯ä»¥æŠŠé¡¹ç›®è¿è¡Œèµ·æ¥äº†
python app.py

# 5ã€è¿è¡Œåä¼šå¼¹å‡ºä¸€ä¸ªäºŒç»´ç ï¼Œä¼ä¸šå¾®ä¿¡æ‰«ç ç™»å½•ï¼ŒæŒ‰æç¤ºç­‰å¾…å¤§æ¦‚1åˆ†é’Ÿå·¦å³

# PS: ä¼ä¸šå¾®ä¿¡ä¸Šè¿°æœ‰æåˆ°è¦å®‰è£…æŒ‡å®šçš„ç‰ˆæœ¬ï¼Œåˆ«æé”™äº†ã€‚è¿˜è¦å®‰è£… ntworkä¾èµ–
```

### âœ… æ­¥éª¤äº”ï¼šå®Œæˆéƒ¨ç½²

* 1ã€å…¶å®åˆ°è¿™é‡Œæ•´ä¸ªé¡¹ç›®çš„éƒ¨ç½²å·²ç»å®Œæˆäº† ğŸ‰
* 2ã€æ¥ä¸‹æ¥å°±æ˜¯æ‰“å¼€ä¼ä¸šå¾®ä¿¡æ­£å¸¸ä½¿ç”¨å³å¯
* 3ã€å¦‚ä½•ä½¿ç”¨å°±è‡ªè¡Œçœ‹ `chatgpt-on-wechat` æ–‡æ¡£å§
* 4ã€ç§èŠ: ç§èŠé»˜è®¤æ˜¯å‘é€: @bot è¦æé—®çš„é—®é¢˜
* 5ã€ç¾¤èŠ: æ˜¯@ç™»å½•çš„ä¼ä¸šå¾®ä¿¡è´¦å·
* **PS: ç¾¤èŠéœ€è¦åœ¨ config.json é…ç½®ç¾¤åç§°ç™½åå•ï¼Œå¦åˆ™æ— æ³•ç¾¤èŠã€‚ï¼ˆå®˜æ–¹æ–‡æ¡£æœ‰è¯´ï¼‰**

## äºŒã€ğŸ‘¤ æ¥å…¥ä¸ªäººå¾®ä¿¡

* éœ€è¦ä¿®æ”¹ config.json çš„å‡ ä¸ªé…ç½®é¡¹
* å¦‚ä¼ä¸šå¾®ä¿¡ä¸ä¸€æ ·çš„æ˜¯ channel_type ç­‰äº wx
* é…ç½®å¦‚ä¸‹:

```json
{
  "channel_type": "wx",
  "open_ai_api_key": "YOUR API KEY",
  "open_ai_api_base": "YOUR BASE URL",
}
```

**å¯åŠ¨è¿è¡Œï¼š**

* 1ã€ç„¶åè¿è¡Œé¡¹ç›® `python app.py`
* 2ã€æŒ‰æç¤ºç™»å½•æ‰«ç ç™»å½•å¾®ä¿¡
* 3ã€PS: ç¾¤èŠéœ€è¦åœ¨ config.json é…ç½®ç¾¤åç§°ç™½åå•ï¼Œå¦åˆ™æ— æ³•ç¾¤èŠã€‚ï¼ˆå®˜æ–¹æ–‡æ¡£æœ‰è¯´ï¼‰

**ä¸ªäººå¾®ä¿¡çš„éƒ¨ç½²å’Œä¼ä¸šå¾®ä¿¡çš„åŒºåˆ«**

* **1ã€**â€‹**â€‹`channel_type`â€‹** **å‚æ•°å€¼ä¸ä¸€æ ·**
* **2ã€ ä¸ªäººå¾®ä¿¡ä¸éœ€è¦æŒ‡å®šå¾®ä¿¡ç‰ˆæœ¬ï¼Œä¼ä¸šå¾®ä¿¡éœ€è¦æŒ‡å®šç‰ˆæœ¬**
* **3ã€ ä¸ªäººå¾®ä¿¡ä¸éœ€è¦å®‰è£…é¢å¤–çš„ä¾èµ–ï¼Œä¼ä¸šå¾®ä¿¡éœ€è¦å®‰è£…** **â€‹`ntwork`â€‹** **ä¾èµ–**
* **é™¤ä¸Šè¿°3ä¸ªä¸ä¸€æ ·çš„åœ°æ–¹ï¼Œå…¶å®ƒçš„åœ°æ–¹æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚**

## ğŸ”‘ v1ç‰ˆæœ¬çš„åˆ†äº«å¯†é’¥

![å¯†é’¥æˆªå›¾1](https://doc.chatmoney.cn/docs/images/general/third-deployment/on-wechat/get_key_001.png)
![å¯†é’¥æˆªå›¾2](https://doc.chatmoney.cn/docs/images/general/third-deployment/on-wechat/get_key_002.png)

## ğŸ”‘ v2ç‰ˆæœ¬çš„åˆ†äº«å¯†é’¥

![å¯†é’¥æˆªå›¾1](https://doc.chatmoney.cn/docs/images/general/third-deployment/on-wechat/2.0-key-001.png)
![å¯†é’¥æˆªå›¾2](https://doc.chatmoney.cn/docs/images/general/third-deployment/on-wechat/2.0-key-002.png)
![å¯†é’¥æˆªå›¾3](https://doc.chatmoney.cn/docs/images/general/third-deployment/on-wechat/2.0-key-003.png)