# LMstudioï¼ˆæœ¬åœ°å¤§æ¨¡å‹ï¼‰

æç¤º

ä½¿ç”¨Dockeréƒ¨ç½²ï¼Œæ”¯æŒæœåŠ¡å™¨è¿æ¥æœ¬åœ°ä¸»æœºéƒ¨ç½²çš„å¤§è¯­è¨€æ¨¡å‹ã€‚ä½¿ç”¨å¤§æ¨¡å‹åªéœ€è¦ä¸€å°ä¸»æœºï¼Œä¸éœ€è¦å…¶ä»–è´¹ç”¨ã€‚

ä¿¡æ¯

ç”±äºç¡¬ä»¶ç­‰é—®é¢˜ï¼Œéƒ¨ç½²å­˜åœ¨ä¸€èµ·éš¾åº¦ï¼Œå°ç™½ç”¨æˆ·æ¨èè´­ä¹°å·²å®‰è£…SDç»˜ç”»å’Œå¤§æ¨¡å‹çš„æ˜¾å¡AIä¸»æœºï¼š[https://www.goofish.com/item?id=836172376138](https://www.goofish.com/item?id=836172376138)

æ³¨æ„

æœ¬æ•™ç¨‹å¦‚æœæ¶‰åŠæœ¬åœ°ä¸»æœºéƒ¨ç½²ï¼Œéœ€è¦æœ¬åœ°ä¸»æœºå¯ä»¥è¿æ¥å¢ƒå¤–ç«™ç‚¹ï¼Œè¯·è‡ªè¡Œè§£å†³æ­¤é—®é¢˜ã€‚

## å®‰è£…LMstudio

æ‰“å¼€[https://lmstudio.ai/](https://lmstudio.ai/)ï¼Œæ‰¾åˆ°é€‚åˆè‡ªå·±ç³»ç»Ÿç¯å¢ƒçš„å®‰è£…åŒ…ï¼Œä¸‹è½½å¥½ååŒå‡»å®‰è£…åŒ…è¿›è¡Œå®‰è£…ã€‚![](https://doc.chatmoney.cn/docs/images/general/third-deployment/lmstudio/download-lmstudio.png)![](https://doc.chatmoney.cn/docs/images/general/third-deployment/lmstudio/install-lmstudio.png)

## ä¸‹è½½å¤§è¯­è¨€æ¨¡å‹

æ³¨æ„

æœ¬æ­¥éª¤å¯èƒ½ç”±äºç½‘ç»œé—®é¢˜ï¼Œæ— æ³•æ˜¾ç¤ºå¤§æ¨¡å‹åˆ—è¡¨å’Œä¸‹è½½ã€‚

åœ¨LMstudioä¸Šæœç´¢å¤§è¯­è¨€æ¨¡å‹ï¼Œè¿™é‡Œä»¥é€šä¹‰åƒé—®ä¸ºä¾‹è¿›è¡Œè¯´æ˜ã€‚![](https://doc.chatmoney.cn/docs/images/general/third-deployment/lmstudio/search-model.png)ç„¶åä»å¤§æ¨¡å‹åˆ—è¡¨ä¸­é€‰æ‹©å¹¶ä¸‹è½½æ¨¡å‹ã€‚![](https://doc.chatmoney.cn/docs/images/general/third-deployment/lmstudio/download-model.png)

## æµ‹è¯•å¤§è¯­è¨€æ¨¡å‹

ç‚¹å‡»ã€ğŸ’¬å›¾æ ‡ã€‘ï¼Œé€‰æ‹©åŠ è½½å·²ç»ä¸‹è½½å¥½çš„å¤§è¯­è¨€æ¨¡å‹ï¼Œåœ¨èŠå¤©æ¡†è¾“å…¥ä¿¡æ¯å³å¯å¾—åˆ°å¤§æ¨¡å‹è¯­è¨€çš„å›å¤ã€‚
å›å¤é€Ÿåº¦ä¸ä¸»æœºé…ç½®æœ‰å…³ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥æŸ¥é˜…å…³äºå¦‚ä½•é…ç½®LMstudio GPUçš„ç›¸å…³èµ„æ–™ã€‚![](https://doc.chatmoney.cn/docs/images/general/third-deployment/lmstudio/loading-model.png)![](https://doc.chatmoney.cn/docs/images/general/third-deployment/lmstudio/test-model.png)

## å¯åŠ¨å¤§è¯­è¨€æ¨¡å‹æ¥å£æœåŠ¡

ç‚¹å‡»ã€â†”ï¸å›¾æ ‡ã€‘-\>ã€Start Serverã€‘ï¼Œå¯åŠ¨æ¥å£æœåŠ¡ï¼Œé»˜è®¤ç«¯å£ä¸º1234ã€‚![](https://doc.chatmoney.cn/docs/images/general/third-deployment/lmstudio/start-api.png)

## æœåŠ¡å™¨è¿æ¥æœ¬åœ°ä¸»æœºéƒ¨ç½²çš„æœåŠ¡

æç¤º

å…¨èƒ½AIçŸ¥è¯†åº“ç³»ç»Ÿ3.5ä»¥åçš„ç‰ˆæœ¬ï¼Œæ”¯æŒä½¿ç”¨frpè¿æ¥æœ¬åœ°éƒ¨ç½²çš„ç»˜ç”»æœåŠ¡å™¨å’Œæ¨¡å‹ï¼Œæ— éœ€è´­ä¹°GPUæœåŠ¡å™¨ï¼Œå³å¯ä½¿ç”¨å¼€æºæ¨¡å‹ã€‚

æ³¨æ„

å¦‚æœä½ åœ¨æœåŠ¡å™¨éƒ¨ç½²å¤§è¯­è¨€æ¨¡å‹ï¼Œç›´æ¥ç»•è¿‡æœ¬æ­¥éª¤ã€‚

### æœåŠ¡å™¨ä¸Šçš„è®¾ç½®

* **æ­¥éª¤1**: æ‰“å¼€é¡¹ç›®ä¸‹/docker/config/frps/frps.tomlæ–‡ä»¶ï¼Œå°†auth.tokenå­—ç¬¦ä¸²çš„å¯†é’¥é‡æ–°å®šä¹‰ï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–ä»»æ„éä¸­æ–‡å­—ç¬¦ä¸²ï¼Œç„¶åä¿å­˜ã€‚

ini

```
bindPort = 7314
auth.token = "è‡ªå·±è®¾ç½®çš„éä¸­æ–‡å­—ç¬¦ä¸²"
```

![](https://doc.chatmoney.cn/docs/images/general/third-deployment/frp/frps.toml.png)

* **æ­¥éª¤2**: æ‰“å¼€é¡¹ç›®ä¸‹/docker/config/supervisor/supervisor.iniæ–‡ä»¶ï¼Œåœ¨æœ€åº•éƒ¨å¢åŠ frpsçš„å®ˆæŠ¤è¿›ç¨‹ï¼Œç„¶åä¿å­˜ã€‚

ini

```
[program:frps]
command=/usr/bin/frps -c /usr/local/etc/frps.toml
directory=/usr/local/etc
autostart=true
autorestart=true
stderr_logfile=/var/log/frps.err.log
stdout_logfile=/var/log/frps.out.log
```

![](https://doc.chatmoney.cn/docs/images/general/third-deployment/frp/supervisor.ini.png)

* **æ­¥éª¤3**: ç‚¹å‡»ã€Dockerã€‘-\>ã€å®¹å™¨ã€‘ï¼Œæ‰¾åˆ°é¡¹ç›®çš„PHPå®¹å™¨ï¼Œç‚¹å‡»ã€é‡å¯ã€‘ã€‚![](https://doc.chatmoney.cn/docs/images/general/third-deployment/frp/php-container-restart.png)
* **æ­¥éª¤4**: ç‚¹å‡»åœ¨å®å¡”é¢æ¿ã€å®‰å…¨ã€‘-\>ã€æ·»åŠ ç«¯å£è§„åˆ™ã€‘ï¼Œå°†7314ç«¯å£æ”¾è¡Œã€‚ ç„¶ååœ¨æœåŠ¡å™¨æœåŠ¡å•†çš„ï¼ˆé˜¿é‡Œäº‘ã€è…¾è®¯äº‘ç­‰ï¼‰æ§åˆ¶å°çš„å®‰å…¨ç»„å¼€æ”¾7314ç«¯å£ï¼Œä¿éšœç«¯å£æ˜¯è¿é€šçš„ã€‚![](https://doc.chatmoney.cn/docs/images/general/third-deployment/frp/port.png)

æç¤º

å¦‚ä½•æµ‹è¯•ç«¯å£æ˜¯å¦æ”¾è¡Œï¼Œå¯ä»¥æ‰“å¼€[https://tool.chinaz.com/port](https://tool.chinaz.com/port),è¾“å…¥æœåŠ¡å™¨IPåœ°å€å’Œç«¯å£ï¼Œç‚¹å‡»ã€å¼€å¯æ‰«æã€‘ï¼ŒçŠ¶æ€ä¸ºå¼€å¯ï¼Œå³ç«¯å£æ˜¯è¿é€šçš„ã€‚![](https://doc.chatmoney.cn/docs/images/general/third-deployment/frp/test-port.png)

âš ï¸ è­¦å‘Š

å¦‚æœå·²ç»ä½¿ç”¨3.5ä»¥ä¸‹è€ç‰ˆæœ¬ï¼Œæ­¥éª¤æ‰€æœ‰ä¸åŒï¼Œæ­¥éª¤1çš„æ–‡ä»¶å¯èƒ½ä¸å­˜åœ¨ï¼Œå¯ä»¥ä»æ–°ä¸‹è½½çš„æºç å¤åˆ¶è¿›å»ï¼Œæ”¾åœ¨ç›¸åŒçš„ä½ç½®ï¼ŒæŒ‰æ­¥éª¤1çš„æ“ä½œã€‚æ­¥éª¤2ç…§æ ·æ“ä½œã€‚
ç„¶åæ‰“å¼€é¡¹ç›®ä¸‹docker-compose.ymlæ–‡ä»¶ï¼Œæ‰¾åˆ°PHPå®¹å™¨é…ç½®ï¼Œå°†é™¤äº†"user:xxxx"é€‰é¡¹ä»¥å¤–æ›¿æ¢ä¸ºæ–°ç‰ˆæœ¬çš„å†…å®¹ï¼Œæ³¨æ„ä¿æŒç¼©è¿›ï¼ˆå°±æ˜¯å‰é¢æœ‰å¤šå°‘ç©ºæ ¼ä¸è¦æ›´æ”¹ï¼‰ã€‚
![](https://doc.chatmoney.cn/docs/images/general/third-deployment/frp/docker-compose-php.png)è¿”å›ã€Dockerã€‘-\>ã€å®¹å™¨ã€‘ï¼Œç„¶ååˆ é™¤å±äºæœ¬é¡¹ç›®ä¸‹çš„æ‰€æœ‰å®¹å™¨ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåˆ é™¤å®¹å™¨ä¸ä¼šæ•°æ®ï¼Œå¦‚æœä¸æ”¾å¿ƒå¯å…ˆå¤‡ä»½ã€‚æ¥ç€è¿”å›ã€å®¹å™¨ç¼–æ’ã€‘ï¼Œåˆ é™¤ä¹‹å‰æ·»åŠ çš„å®¹å™¨ç¼–æ’ï¼Œé‡æ–°æ·»åŠ å³å¯ã€‚

### æœ¬åœ°ä¸»æœºä¸Šçš„è®¾ç½®

æç¤º

frpæ˜¯ä¸€æ¬¾éå¸¸ä¼˜ç§€çš„å†…ç½‘ç©¿é€è½¯ä»¶ã€‚

* **æ­¥éª¤1**: åœ¨éƒ¨ç½²SDæœåŠ¡çš„ä¸»æœºä¸Šï¼Œæ‰“å¼€[https://github.com/fatedier/frp/releases](https://github.com/fatedier/frp/releases)ï¼Œä¸‹è½½è‡ªå·±ç³»ç»Ÿç›¸å¯¹åº”çš„frp0.58.1è½¯ä»¶ç‰ˆæœ¬ï¼Œâ€œè§£å‹ä¸‹è½½çš„å‹ç¼©åŒ…ã€‚![](https://doc.chatmoney.cn/docs/images/general/third-deployment/frp/download-frp.png)
* **æ­¥éª¤2**: å³é”®ç‚¹å‡»ã€frpc.tomlã€‘æ–‡ä»¶ï¼Œç‚¹å‡»ã€åœ¨è®°äº‹æœ¬ä¸­ç¼–è¾‘ã€‘ï¼Œæ‰“å¼€æ–‡ä»¶ï¼Œç„¶åè®¾ç½®frpcä¿¡æ¯ï¼Œå…¶ä¸­serverAddrä¸ºæœåŠ¡å™¨ipåœ°å€ï¼Œauth.tokenä¸ºæœåŠ¡å™¨ä¸Šfrps.tomlçš„auth.tokençš„å€¼ä¸€è‡´ï¼ŒlocalPortå’ŒremotePortä¸ºSDæœåŠ¡å™¨çš„ç«¯å£ï¼Œç„¶åä¿å­˜æ–‡ä»¶ã€‚

ini

```
serverAddr = "ä½ çš„ipåœ°å€"
serverPort = 7314
auth.token = "ä½ æœåŠ¡ä¸Šè®¾ç½®çš„ä»»æ„éä¸­æ–‡å­—ç¬¦ä¸²"

[[proxies]]
name = "sd"
type = "tcp"
localIP = "127.0.0.1"
localPort = 1234
remotePort = 1234
```

![](https://doc.chatmoney.cn/docs/images/general/third-deployment/frp/frpc.toml.png)

æç¤º

frpcå¯åŠ¨å¤±è´¥ï¼Œå¯èƒ½æ˜¯ä»¥ä¸‹åŸå› ã€‚
1.æœåŠ¡å™¨å…¬ç½‘IPåœ°å€ã€ç«¯å£ã€auth.tokenè®¾ç½®ä¸æ­£ç¡®ã€‚
2.æœåŠ¡å™¨ç«¯å£æ²¡æœ‰å¯¹å¤–å¼€æ”¾ï¼Œæ— æ³•è¿é€šã€‚
3.æœåŠ¡å™¨ä¸Šå®¹å™¨çš„frpsæ²¡æœ‰æ­£ç¡®è¿è¡Œã€‚

* **æ­¥éª¤3**: åœ¨frpç›®å½•ç©ºç™½å¤„å³é”®ã€åœ¨ç»ˆç«¯ä¸­æ‰“å¼€ã€‘ï¼Œåœ¨ç»ˆç«¯è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œè¿è¡Œfrpcï¼Œå¯åŠ¨æˆåŠŸå¥½ï¼Œå¯ä»¥çœ‹åˆ°ä»¥ä¸‹ç•Œé¢ã€‚

shell

```
.\frpc.exe -c frpc.toml
```

![](https://doc.chatmoney.cn/docs/images/general/third-deployment/frp/start-frpc.png)

## ç®¡ç†åå°é…ç½®

ç™»å½•ç®¡ç†åå°ï¼Œæ‰“å¼€ã€AIåº”ç”¨ã€‘-\>ã€SDç»˜å›¾ã€‘-\>ã€åº”ç”¨é…ç½®ã€‘ï¼Œã€AIåŸŸåã€‘å¦‚æœäº†ä½¿ç”¨ã€## æœåŠ¡å™¨è¿æ¥æœ¬åœ°ä¸»æœºéƒ¨ç½²çš„æœåŠ¡ ã€‘ï¼Œè®¾ç½®ä¸º`http://127.0.0.1:1234`ï¼Œå¦‚æœä¸ä½¿ç”¨ï¼Œç›´æ¥é…ç½®æœåŠ¡å™¨çš„å…¬ç½‘IPåœ°å€å’Œç«¯å£ã€‚é…ç½®å®Œæˆä»¥åï¼Œå¯ä»¥åœ¨å‰å°é€‰æ‹©LMstudioæµ‹è¯•ã€‚![](https://doc.chatmoney.cn/docs/images/general/third-deployment/lmstudio/admin-settings-model-1.png)![](https://doc.chatmoney.cn/docs/images/general/third-deployment/lmstudio/admin-settings-model-2.png)